{"version":3,"sources":["app.js"],"names":["messagesList","document","getElementsByClassName","addMessag","chooseBox","roomsMenu","roomList","roomNewName","getElementById","addUsername","addEventListener","event","preventDefault","inputValue","querySelector","value","chat_rooms","addData","reset","scrollToDown","scrollTop","scrollHeight","setTimeout","input","name","trim","updateUsername","storagUsername","localStorage","username","e","style","display","target","classList","contains","id","roomName","parentElement","textContent","querySelectorAll","forEach","i","remove","updateRoom","getData","passData","inter_face","displayData","Chatrooms","Interface"],"mappings":"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","sourcesContent":["const messagesList = document.getElementsByClassName(\"messages\")[0],\r\n  addMessag = document.getElementsByClassName(\"add-messg\")[0],\r\n  chooseBox = document.getElementsByClassName(\"choose-box\")[0],\r\n  roomsMenu = document.getElementsByClassName(\"rooms-menu\")[0],\r\n  roomList = document.getElementsByClassName(\"room-list\")[0],\r\n  roomNewName = document.getElementById(\"room-new-name\"),\r\n  addUsername = document.getElementsByClassName(\"add-username\")[0];\r\n\r\n/* ============================================\r\n        Add the message to the database  \r\n============================================= */\r\naddMessag.addEventListener(\"submit\", function(event) {\r\n  event.preventDefault();\r\n  // Get input value\r\n  const inputValue = this.querySelector(\"#message\").value;\r\n\r\n  // Check that the input is not empty\r\n  if (inputValue === '') {\r\n      // error message\r\n  } else {\r\n    // Add data to database\r\n    chat_rooms.addData(inputValue);\r\n\r\n    // Form reset\r\n    this.reset();\r\n\r\n    // message box, Scroll down when you add a new message\r\n    const scrollToDown = () => {\r\n      messagesList.scrollTop = messagesList.scrollHeight;\r\n    };\r\n    setTimeout(() => scrollToDown(), 300);\r\n  }\r\n});\r\n\r\n\r\n/* ============================================\r\n                Updata Username  \r\n============================================= */\r\naddUsername.addEventListener(\"submit\", function(event) {\r\n  event.preventDefault();\r\n\r\n  // Get Input\r\n  const input = this.querySelector(\"input\");\r\n\r\n  // Check the input that contains the username\r\n  if (input.name === \"username\") {\r\n    // Check that the input is not empty\r\n    if(input.value == '') {\r\n      // Error message\r\n    } else {\r\n      const inputValue = input.value.trim();\r\n      chat_rooms.updateUsername(inputValue);\r\n    }\r\n  }\r\n\r\n  // Form reset\r\n  this.reset();\r\n});\r\n\r\n/* ============================================\r\n        Save Username in local storage\r\n============================================= */\r\nconst storagUsername = localStorage.username\r\n  ? localStorage.username\r\n  : \"unknown\";\r\n\r\n/* ============================================\r\n  Show the roomsMenu containing chat room types \r\n============================================= */\r\nchooseBox.addEventListener(\"click\", function(e) {\r\n  roomsMenu.style.display = \"block\";\r\n});\r\n\r\n/* ============================================\r\n  Hide the roomsMenu containing chat room types \r\n============================================= */\r\nroomsMenu.addEventListener(\"click\", function(event) {\r\n  // Close the rooms menu when you press the fa-times\r\n  if (event.target.classList.contains(\"fa-times\")) {\r\n    this.style.display = \"none\";\r\n  }\r\n\r\n  // Close the rooms menu when choosing a chat room\r\n  if(event.target.id === \"check\") {\r\n    this.style.display = \"none\";\r\n  }\r\n});\r\n\r\n/* ============================================\r\n              Change chat room\r\n============================================= */\r\nroomList.addEventListener(\"click\", function(event) {\r\n  if (event.target.id === \"check\") {\r\n    // Get chat room name id\r\n    var roomName = event.target.parentElement.id;\r\n\r\n    // Header > Updata chat room name\r\n    roomNewName.textContent = roomName;\r\n\r\n    // Remove all messages when we choose chat room\r\n    messagesList.querySelectorAll(\"li\").forEach(i => {\r\n      i.remove();\r\n    });\r\n\r\n    // Update chat room name\r\n    chat_rooms.updateRoom(roomName);\r\n\r\n    // Display data for the new chat room\r\n    chat_rooms.getData(passData => inter_face.displayData(passData));\r\n  }\r\n});\r\n\r\n/* ============================================\r\n               Instance of class  \r\n============================================= */\r\nconst chat_rooms = new Chatrooms(storagUsername, \"public\"),\r\n  inter_face = new Interface(messagesList);\r\n\r\n/* ============================================\r\n              display Data \r\n============================================= */\r\nchat_rooms.getData(passData => inter_face.displayData(passData));\r\n"],"file":"app.js"}